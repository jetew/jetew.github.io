[{"content":"前言 开工了，没有那么多心思去管理多台服务器。所以干脆整一台配置好点的服务器将自己的一些个人云盘、网站、应用等全放在上面；顺便在这里记录下折腾过程，也给大家提供一个参考。\n由于需要Web环境，而我比较喜欢 Nginx，所以此次选择了 Nginx+WS+TLS+v2ray，当然，其他的像 Apache 和 Caddy 也都是可以的，架设步骤基本相似；属于半手动架设。OK，废话不多说，我们开始：\n架设教程 准备工作 首先对小鸡进行初步部署，参考这里\n然后准备好已经解析至你小鸡的域名，参考这里\n环境搭建 考虑到 Web 与 V2ray 共存，我们首先要对 Web 环境进行搭建，并开设站点；参考之前讲过的LNMP一键包安装\n安装配置 V2ray 安装 V2ray 安装 V2ray，选择官方的 go 脚本：\n1  bash \u0026lt;(curl -L -s https://install.direct/go.sh)   配置 V2ray 获取 UUID 键入下面命令，获取一个随机UUID：\n1  /usr/bin/v2ray/v2ctl uuid   鼠标左键选中生成的 UUID 点击右键即可复制\n创建并编辑配置文件 方法一 键入以下命令，创建并编辑配置文件\n1 2  touch /etc/v2ray/config.json vi /etc/v2ray/config.json   方法二 在本地新建名为config.json的文件，并进行编辑\n编辑配置文件 按照下面给出的标注位置修改即可\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63  { \u0026#34;log\u0026#34;: { \u0026#34;access\u0026#34;: \u0026#34;/var/log/v2ray/access.log\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;/var/log/v2ray/error.log\u0026#34;, \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;port\u0026#34;:10086, // 端口，可自选 \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;vmess-in\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;:\u0026#34;UUID\u0026#34;, // 刚才生成的UUID填在这里 \u0026#34;alterId\u0026#34;:64 // 额外ID，如果小鸡配置不是很高建议设置低一点 } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;wsSettings\u0026#34;: { \u0026#34;path\u0026#34;:\u0026#34;/yourair/\u0026#34; // path目录，可自行设置 } } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { }, \u0026#34;tag\u0026#34;: \u0026#34;direct\u0026#34; }, { \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: { }, \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34; } ], \u0026#34;dns\u0026#34;: { \u0026#34;servers\u0026#34;: [ \u0026#34;https+local://1.1.1.1/dns-query\u0026#34;, \u0026#34;1.1.1.1\u0026#34;, \u0026#34;1.0.0.1\u0026#34;, \u0026#34;8.8.8.8\u0026#34;, \u0026#34;8.8.4.4\u0026#34;, \u0026#34;localhost\u0026#34; ] }, \u0026#34;routing\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;AsIs\u0026#34;, \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;inboundTag\u0026#34;: [ \u0026#34;vmess-in\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;direct\u0026#34; } ] } }   创建站点并配置 Nginx 创建站点 键入以下命令，创建新站点（此站点设置 WS+TLS为V2ray ）\n1 2  cd /root/oneinstack/ ./vhost.sh   具体创建步骤请参考LNMP一键包安装添加虚拟主机\n配置Nginx 键入以下命令，你将看到以你刚才所创建虚拟主机域名.conf 命名的 Nginx 配置文件\n1  cd /usr/local/nginx/conf/vhost/ \u0026amp;\u0026amp; ls   然后我们键入下面的命令修改一下配置，文件名更换为你自己的域名.conf\n1  vi demo.yourair.xyz.conf   在最后一个}前面加入下面的内容，标注部分与 V2ray 配置文件保持一致\nlocation /yourair/ { # 与 V2Ray 配置中的 path 保持一致 if ($http_upgrade != \u0026quot;websocket\u0026quot;) { return 404; } proxy_redirect off; proxy_pass http://127.0.0.1:10086; # V2ray配置中WebSocket监听在环回地址的10086端口上 proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026quot;upgrade\u0026quot;; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } 演示图如下：\n扩展配置 Caddy 配置 demo.yourair.xyz # 你的域名 { log ./caddy.log tls demo@mail.com # 你的邮箱，用于签发证书 proxy /yourair/ localhost:10086 { # path路径和监听端口 websocket header_upstream -Origin } } Apache 配置 若使用 Oneinstack 一键包，则和前文 Nginx 配置一样，加在最后\u0026lt;/VirtualHost\u0026gt;前面即可\n \u0026lt;Location \u0026quot;/yourair/\u0026quot;\u0026gt; ProxyPass ws://127.0.0.1:10086/yourair/ upgrade=WebSocket ProxyAddHeaders Off ProxyPreserveHost On RequestHeader append X-Forwarded-For %{REMOTE_ADDR}s \u0026lt;/Location\u0026gt; 启动服务、添加开机自启 1 2  systemctl start v2ray.service systemctl enable v2ray.service   重启 Nginx 1  systemctl restart nginx.service   至此，一个供 V2ray 使用的 WS+TLS 站点就添加并配置完成了。\n正常网站与共存 如需开设正常网站，只需要创建新站点，不用修改站点的 Nginx 配置文件；共存的话，也是一样，开设两个站点，一个作为正常站点，另一个修改站点 Nginx 配置文件即可，参照配置 Nginx。\n","description":"","id":0,"section":"posts","tags":["Setup","LNMP","V2ray"],"title":"折腾LNMP+WS+TLS+V2ray","uri":"/posts/lnmp-v2ray/"},{"content":"前言 LNMP——Linux+Nginx+数据库(MariaDB/MySQL等)+PHP；LNMP代表的就是：Linux系统下Nginx+MariaDB/MySQL+PHP这种网站服务器架构。\nNginx是一个高性能的HTTP和反向代理服务器，也是一个IMAP/POP3/SMTP代理服务器。\nMysql是一个小型关系型数据库管理系统。\nPHP是一种在服务器端执行的嵌入HTML文档的脚本语言。\n这四种软件均为免费开源软件，组合到一起，成为一个免费、高效、扩展性强的网站服务系统。\n何为LNMP一键包 LNMP一键安装包是一个用Linux Shell编写的可以为Linux VPS或独立主机安装LNMP、LNMPA、LAMP等生产环境的Shell程序。\n安装方法 一键脚本获取   OneinStack官网：https://oneinstack.com\n  LNMP一键安装包：https://lnmp.org\n  这里有两个LNMP一键安装脚本供大家选择，我一般使用的是OneinStack；个人认为，OneinStack功能比较前沿一些，所以我就以OneinStack为例。\n OneinStack包含以下组合：\n  lnmp（Linux + Nginx+ MySQL/MongoDB+ PHP） lamp（Linux + Apache+ MySQL/MongoDB+ PHP） lnmpa（Linux + Nginx+ MySQL/MongoDB+ PHP+ Apache）：Nginx处理静态，Apache处理动态PHP lnmt（Linux + Nginx+ MySQL/MongoDB+ Tomcat）：Nginx处理静态，Tomcat（JDK）处理JAVA lnpp（Linux + Nginx+ PostgreSQL+ PHP） lapp（Linux + Apache+ PostgreSQL+ PHP） lnmh（Linux + Nginx+ MySQL+ HHVM）  使用说明 点击链接进入OneinStack官网，点击自动安装；然后选择自己所需要的组合，并视情况选择组件，我的选择如下：\n 由于我搭建的静态页面，所以选择Nginx，数据库我建议选择MariaDB而不是MySQL，数据库管理我直接敲命令即可，所以不需要PHPMyAdmin，如果命令不熟悉可以勾选这个管理数据库；FTPd则是用于生成FTP账户，并绑定至网站根目录；我个人使用所以也不需要；数据库安装方式建议选择源码编译安装，而不是二进制，尽管二进制安装速度会快点。\n 勾选完所需组件后，在网页最下面可以看到已经自动生成了一键安装命令代码：\n为防止本地网络变化等不确定因素完成安装终止，先键入命令创建一个作业窗口：\n1  screen -S lnmp   若报错先安装screen\nDebian CentOS  1  apt-get install -y screen     1  yum install -y screen       'use strict'; var containerId = JSON.parse(\"\\\"4ea4facca5680fdb\\\"\"); var containerElem = document.getElementById(containerId); var tabLinks = null; var tabContents = null; var ids = []; if (containerElem) { tabLinks = containerElem.querySelectorAll('.tab__link'); tabContents = containerElem.querySelectorAll('.tab__content'); } for (var i = 0; i 0) { tabContents[0].style.display = 'block'; }  然后复制OneinStack一键安装命令粘贴至终端，回车执行：\n接下来就是耐心等待，安装时间视你所选组件的多少以及小鸡配置而定。\n安装完成后提示安装时长和组件路径：\n此时键入reboot命令，重启小鸡。\n至此LNMP环境安装完成。\n添加及管理虚拟主机 添加虚拟主机 键入下面命令，添加虚拟主机并绑定域名。\n1 2  cd /root/oneinstack/ ./vhost.sh   具体操作如图：\n 这里讲解一下，强制跳转https看你自己，如果在CF等控制面板中开启了强制跳转的话这里就不要开启，反之亦然。\n 这个时候打开你的域名，你就可以看到刚才开设的网站了：\n管理虚拟主机 开设好网站后，我们就可以将程序上传到该网站的根目录，你可以使用SFTP或者FTP上传，而FTP的话，是需要我们开设FTP账号的（前提是你安装了OneinStack一键包的PureFTPd组件）；键入命令：\n1 2  cd /root/oneinstack/ ./pureftpd_vhost.sh   然后根据操作提示添加FTP账号、设置密码，并绑定相应的网站目录即可。\n总结 相较于各种服务器管理可视化面板来说，我还是更喜欢一键包搭设的面板，尤其是OneinStack的；个人感觉比可视化面板要更安全。\n最后贴上使用手册，方便大家学习：OneinStack使用手册\n","description":"","id":1,"section":"posts","tags":["LNMP"],"title":"LNMP一键安装及开设站点","uri":"/posts/lnmp/"},{"content":"前言 之前给大家介绍过了V2ray服务端初级架设，包含TCP协议和mKCP协议；今天教大家设置WebSocket(以后简称WS)+TLS协议。WS+TLS拥有更高的安全性能和加密性，为V2ray服务的隐蔽提供了基础；关于WS+TLS的定义这里就不在赘述了，下面直奔主题！\n架设前的准备 VPS服务器与部署 首先我们需要一台海外服务器，并且完成了初步部署；如果你还没有准备请看：VPS推荐专栏/架设前言及准备工作\n域名 免费/付费域名均可，一定要提前解析到你的VPS服务器！参考：免费域名注册与DNS解析\n 如果是在Cloudflare设置的DNS解析，一定要把CDN灰掉，状态设置为DNS Only！\n 架设教程 由于手动教程要求对Nginx、Apache或Caddy等服务和配置文件拥有一定的了解，所以这里提供一键架设教学。\n由于安装时需要编译，时间较长；为了防止本地网络变化等情况造成安装中断，我们先输入screen -S v2ray新建一个作业窗口；报错就先安装Screen：\nDebian CentOS  1  apt-get install -y screen     1  yum install -y screen       'use strict'; var containerId = JSON.parse(\"\\\"afb2fd012bbe2f03\\\"\"); var containerElem = document.getElementById(containerId); var tabLinks = null; var tabContents = null; var ids = []; if (containerElem) { tabLinks = containerElem.querySelectorAll('.tab__link'); tabContents = containerElem.querySelectorAll('.tab__content'); } for (var i = 0; i 0) { tabContents[0].style.display = 'block'; }  复制下面的代码，粘贴到SSH软件中，然后回车执行：\n1  wget -N --no-check-certificate -q -O install.sh \u0026#34;https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh\u0026#34; \u0026amp;\u0026amp; chmod +x install.sh \u0026amp;\u0026amp; bash install.sh   到如下界面，我们输入1回车，安装Nginx+WS+TLS，或者2安装h2：\n到这里同步时间，输入y回车确认：\n耐心等待到绑定域名提示；输入已经解析到你VPS服务器的域名(我这里还是使用之前注册演示的免费域名)，并按下回车确认：\n紧接着会获取你的VPS公网IP，并要求输入端口、额外ID，设置后回车确认：\n之后耐心等待安装和编译环境，并自动配置各种信息以及签发证书，然后会要求设置兼容性，这里选择哪一种都行，我就选择全能的1吧：\n最后就会架设完成跳转配置详情了，你可以按照配置详情在客户端进行设置：\n或者复制最后的URL导入链接，然后在客户端导入：\n至此，V2ray服务端的进阶架设就完成了。\n总结   此一键安装脚本适合新手或不愿意折腾的人，以后需要修改配置输入./install.sh即可。\n  h2模式的安全性要比WS+TLS更高，一般默认使用WS+TLS传输就已经不太容易被识别了，我自己本人一直稳定WS+TLS都忘了有多久了；而且，安全性更高的代价是网速将会变慢。\n  一般来讲，抛开纯TCP不谈，网速从高到低依次为：mKCP \u0026gt; WS = WS + TLS \u0026gt; h2+TLS；WS+TLS比mKCP并不会慢很多，所以在保证安全的前提下，舍弃一点点速度我觉得还是可行的；h2+TLS最安全，同理速度也是最慢的。可以根据你所在地区封锁情况和网络情况酌情考虑搭配！\n ","description":"","id":2,"section":"posts","tags":["Setup","V2ray"],"title":"V2ray服务端进阶篇","uri":"/posts/v2rayplus/"},{"content":"前言 为了方便大家下载与使用科学上网，我把本站介绍的几种科学上网客户端下载全部整合到这篇文章内。如果还没有架设服务端的请看这里；使用教程请看这里。\n全平台客户端下载 这里贴出的链接地址都是各应用的Github项目更新地址，日常使用请优先选择通过各项目更新地址下载！\nSSR 桌面端 桌面端客户端下载地址\n移动端 Android客户端下载地址\nIOS客户端下载地址\n 目前大陆App Store商店很多SS/SSR软件都被下架了，我们需要美区的ID，然后到美区的商店就可以自由下载软件了。关于美区ID的申请方法可以百度。如果不想自己注册，可以去淘宝购买或者网上找别人共享的ID。SS/SSR软件有很多，比如：Potatso Lite、Potatso、wingy等。或者用爱思助手PC端安装Shadowrocket的ipa文件。\n Brook 全平台下载地址\nV2ray 桌面端 Windows客户端下载地址\nMac客户端下载地址\nLinux客户端下载地址\n移动端 Android客户端下载地址\nIOS客户端下载地址\n 使用kitsunebi或Kitsunebi Lite；和SSR一样，需要美区ID；或者用爱思助手PC端安装Shadowrocket的ipa文件。\n Trojan 桌面端 Trojan桌面客户端下载地址\n移动端 Android客户端下载地址\nIOS客户端下载地址\n 使用Pharos Pro或者安装Shadowrocket。\n Wireguard 全平台下载地址\n备用下载地址  全平台客户端备用下载地址：点击直达   备用下载地址客户端随缘更新，如前文版本发布地址下载速度过慢，可在备用地址下载你已经搭建好服务端的应用，配置完成后再重新下载最新版本客户端。\n 下载教程  点击相对应的平台客户端链接，进入版本列表；找到最新版本(Latest release)，有的是预览版本(Pre-release)；如果Assets是折叠的，请点击一下打开，选择下载即可：   如果是全平台下载地址，找到相对应的版本，点击下载即可：  总结   为了确保科学上网的正常使用，请一定要下载适合系统运行环境的最新版本。\n  备用下载地址并不是各应用的最新版本，下载并配置完成后，请到各客户端项目发布地址重新下载最新版本。\n ","description":"","id":3,"section":"posts","tags":["Use","SSR","Brook","V2ray","Trojan","Wireguard"],"title":"科学上网客户端下载","uri":"/posts/download/"},{"content":"前言 本文为科学上网客户端备用下载地址，随缘更新。选择你架设好服务端的应用，下载适合系统的客户端；配置完成后再下载最新版本使用。\n全平台客户端下载 SSR 桌面端 Windows客户端下载地址\nMac客户端下载地址\nLinux客户端下载地址\n移动端 Android客户端下载地址\nIOS客户端下载地址\n 目前大陆App Store商店很多SS/SSR软件都被下架了，我们需要美区的ID，然后到美区的商店就可以自由下载软件了。关于美区ID的申请方法可以百度。如果不想自己注册，可以去淘宝购买或者网上找别人共享的ID。SS/SSR软件有很多，比如：Potatso Lite、Potatso、wingy等。或者用爱思助手PC端安装Shadowrocket的ipa文件。\n Brook 全平台下载地址\n Brook暂时无法使用，等待作者开发新协议。\n V2ray 桌面端 Windows客户端下载地址\nMac客户端下载地址\nLinux客户端下载地址\n移动端 Android客户端下载地址\nIOS客户端下载地址\n 使用kitsunebi或Kitsunebi Lite；和SSR一样，需要美区ID。\n Trojan 桌面端 Windows客户端下载地址\nMac客户端下载地址\nLinux客户端下载地址\n移动端 Android客户端下载地址\nWireguard 桌面端 Windows客户端下载地址\n移动端 Android客户端下载地址\n注意  本页面所贴下载地址适合刚需用户，下载并配置完成后，请前往客户端下载从链接进入各应用的Github版本发布地址下载最新版本使用。  ","description":"","id":4,"section":"","tags":null,"title":"备用下载地址","uri":"/appdown/"},{"content":"前言 Wireguard是一种新型的VPN协议，相比目前主流的VPN协议，Wireguard具有轻便、快速、高效、安全的优点，被称为下一代VPN协议。Wireguard最初是为Linux内核开发，但目前已提供跨平台支持，可在Linux、安卓、苹果iOS、MacOS、Openwrt、Windows等多个平台使用 ；Wireguard可以全局代理电脑所有软件，包括浏览器、游戏软件等。\n注意事项 Wireguard 是通过 UDP 协议传输数据的，这意味着它可以搭建在TCP阻断的服务器上使用；因为是 UDP 传输的，锐速、BBR 这类TCP加速工具也不会对其起到加速作用。另外，如果你当地运营商对海外 UDP 链接进行 QOS 限速，那么速度可能不如使用 TCP 连接的代理软件理想。\nWireguard安装脚本仅支持Centos7或8！所以选择系统时请格外注意！\n架设教程 如果你已经对服务器进行了初步部署，那么接下来我们进行Wireguard服务端的架设；如果还没有，请前往这里\n下面开始Wireguard服务端的架设教程\n复制下面的一键架设代码，粘贴到SSH软件中；回车执行：\n1  curl -O https://raw.githubusercontent.com/atrandys/wireguard/master/wg_mult.sh \u0026amp;\u0026amp; chmod +x wg_mult.sh \u0026amp;\u0026amp; ./wg_mult.sh   回车后等待出现如下界面，输入1回车安装；2是卸载：\n耐心等待出现二维码界面。说明已经安装完成了：\n二维码不用管他，往上拉，看到下面的提示，需要将/etc/wireguard/client.conf配置文件下载到电脑：\n此处有两个方法：\n方法一：输入cat /etc/wireguard/client.conf这时信息就会展示出来：\n在SSH软件中鼠标左键选中全部内容，点击鼠标右键复制，然后在本地新建名为client.conf的文件，将复制的内容粘贴进去：\n方法二：使用WinSCP进行下载，连接到VPS后，进入/etc/wireguard/目录下，然后将client.conf文件拖拽到本地：\n到这里Wireguard的服务端架设就结束了。\n客户端使用 由于Wireguard客户端的使用和其他应用略有不同，下面我以Windows端为例讲一下使用方法；除Linux外，其他端使用方式基本一致。\n首先在客户端下载页面下载Wireguard客户端，并运行。\n点击导入配置，选择刚才架设服务端时下载/编辑好的client.conf文件：\n导入完成后，点击Acitvate启动服务即可：\n总结   Wireguard作为新型VPN协议，具有轻便、快速、高效、安全的优点；而且架设简单，一学即会。\n  Wireguard只能全局代理，所以平常要注意一下使用环境。\n  由于传输协议不同，BBR等加速工具对其无效，如果你得当地运营商对海外UDP链接进行QOS限速，那么实际使用效果是不如其他应用理想的。具体请看你当地的实际使用情况。\n ","description":"","id":5,"section":"posts","tags":["Setup","Wireguard"],"title":"Wireguard服务端搭建","uri":"/posts/wireguard/"},{"content":"前言 Trojan是一个比较新的翻墙软件，在设计时采用了更适应国情的思路。在穿透GFW时，人们认为强加密和随机混淆可能会欺骗GFW的过滤机制。然而，Trojan实现了这个思路的反面：它模仿了互联网上最常见的HTTPS协议，以诱骗GFW认为它就是HTTPS，从而不被识别。\n工作原理 Trojan工作在443端口，并且处理来自外界的HTTPS请求，如果是合法的Trojan请求，那么为该请求提供服务，否则将该流量转交给web服务器Nginx，由Nginx为其提供服务。基于这个工作过程可以知道，Trojan的一切表现均与Nginx一致，不会引入额外特征，从而达到无法识别的效果。当然，为了防止恶意探测，我们需要将80端口的流量全部重定向到443端口，并且服务器只暴露80和443端口，这样可以使得服务器与常见的Web服务器表现一致。\n准备工作 系统要求 由于一键架设脚本是CentOS模式，所以只支持CentOS7+\nDNS解析 前文已经介绍过免费域名注册和DNS解析，在架设服务之前，请确保域名已经解析到你的VPS服务器；如未准备，请看这里。\nTrojan服务端一键架设 如果你已经对服务器进行了初步部署，那么接下来我们进行Trojan服务端的架设；如果还没有，请前往这里\n下面开始Trojan服务端的架设教程\n复制下面的一键架设代码，粘贴到SSH软件中；回车执行：\n1  curl -O https://raw.githubusercontent.com/atrandys/trojan/master/trojan_centos7.sh \u0026amp;\u0026amp; chmod +x trojan_centos7.sh \u0026amp;\u0026amp; ./trojan_centos7.sh   出现下面界面，输入1回车安装：\n安装过程中会出现绑定域名提示，输入已解析到VPS服务器的域名，我这里用之前文章做演示申请的免费域名，然后回车：\n最终安装完成后，界面如下：\n这里有一条下载地址，复制地址，并下载下来即可，解压缩下载的trojan-cli.zip的压缩包，进入文件夹，双击start.bat，开启Trojan服务，Trojan会监听本地1080端口。\n代理设置 将需要科学上网的应用代理设置成socks5，直接指向127.0.0.1端口1080即可。\n 谷歌浏览器chrome可配合switchyomega插件来使用。\n 常见问题 Trojan客户端打开无法运行，提示缺少找不到vcruntime140.dll或找不到msvcp140.dll。\n 缺少运行必备组件，网上搜一下下载即可。\n 服务端密码如何修改？\n trojan服务端配置文件路径如下，如需修改内容，输入以下命令修改即可。\n vi /usr/src/trojan/server.conf\n 修改完成后，输入以下命令重启trojan服务端即可。\n systemctl restart trojan\n域名证书申请失败\n 出现这个问题最可能的原因之一是你的同一个域名多次申请证书，导致let’s encrypt官方的限制，同一域名每周最多4-5次申请。若是你的域名申请证书次数过多，可以在DNS解析中新增加一个前缀后重新架设。\n 总结   Trojan服务端作为新兴代理，架设简单，开箱即用。\n  服务端架设之前一定要将域名提前解析到VPS服务器，否则签发不了证书。\n  解析域名时不要开启CDN，状态设置为DNS Only即可。\n ","description":"","id":6,"section":"posts","tags":["Setup","Trojan"],"title":"Trojan服务端架设","uri":"/posts/trojan/"},{"content":"前言： 之前我们在VPS被墙检测与解决方案一文中讲过利用国外CDN中转流量变相解决被墙；由于篇幅较长，所以我们进行分篇讲解。并且为后面几种“应用”架设打下基础；现在我们先进行第一步教学：免费域名申请与DNS解析。\n域名申请： 付费域名 其实付费域名这块，可以选择的有很多。国内的类似阿里云，万网，西部数码等等；国外有godaddy，NameCheap，Name等等；价格也不是很贵，一年一换或者有活动的时候多年购买使用完全没问题，注册教程一搜一大堆，这里也不再赘述。\n免费域名 Freenom免费域名 Freenom提供了免费的.tk、.ml、.ga、.cf、.gq域名，免费域名目前可以最长免费一年，一年后快到期时你可以登录到.tk、.ml、.ga、.cf、.gq官网点击续期。关于搜索引擎收录，百度早已不收录.tk、.ml、.ga、.cf、.gq域名的网站了。\n 另外，.tk、.ml、.ga、.cf、.gq还可能会回收长期不用的域名，或者被其他人付费购买的域名。\n 域名注册 Freenom官网：https://www.freenom.com 点击上面的链接，进入Freenom官网；点击右上角登入，然后选择Gmail登录如图：\n 注意：一定要全程挂“应用”操作，否则会申请不成功，目前只能用Gmail进行登录，其他的登录不了，也无法注册。\n 点击右上角的Services，选择Register a New Domain：\n输入要注册的域名前缀，点击检查可用性：\n跳出的页面前几项都是Free——免费的，选中一个域名，点击Get it now，然后点击Check out进行下一步：\n 这里我做演示随便选择了一个，建议选择.tk或者.ml域名。\n 设置申请时长为12个月，然后点击继续进行下一步：\n订单确认页，勾选协议，点击确认：\n 之后会跳转到订单号页面，说明已经成功注册该域名。\n 注册成功后，点击Services，选择My Domains就可以在域名管理面板里看到刚才申请的免费域名了：\n注册DNS服务并修改NS解析： 国外DNS服务 国外DNS服务有很多家，比如Cloudflare、Namecheap、Godaddy等等，操作流程都差不多，这里我以Cloudflare(后面简称CF)为例。\n账号注册 CloudFlare官网：https://www.cloudflare.com 进入CF官网，然后点击右上角注册：\n输入你的邮箱和密码，点击创建账户：\n添加域名 账号注册完成后，会自动跳转添加网站页面，输入刚才注册的域名，点击添加：\n 注意：添加域名之前要等待一会，否则CF会提示该域名未被注册，如果显示为该域名暂时被禁止，请更换域名后缀，推荐使用.tk.ml。\n 也可以在控制面板中点击Add Site进入此页：\n添加完成之后，我们选择免费的套餐，然后继续：\n之后会让我们添加DNS解析记录，先不用设置，直接继续，然后再确认一次就好：\n接下来会让我们修改NS解析：\n更改NS解析 由于我们使用CF作为第三方DNS服务，所以需要修改免费域名的NS解析；首先进入Freenom的域名控制面板，找到NS解析：\n然后输入CF提示页的两个NS服务地址，保存并等待生效即可。PS：解析时间可能长达数个小时，耐心等待即可：\n解析生效后我们再进入CF管理面板可以看到该域名已经打上√，并且进去之后NS修改提示也没有了：\n设置DNS解析 在CF控制面板中，点击刚才添加的域名，进入域名管理面板：\n选择DNS项，然后点击添加记录：\n类型选择A，name输入域名前缀，如www、m、abc等等，随意输入，IP地址就输入你VPS主机的IP，然后点击一下那个小黄云图标，让他显示为DNS Only，最后点击保存：\n接下来等待生效即可！\n总结：   注册Freenom时一定要全程挂应用，否则会注册失败；推荐注册.tk或.ml域名，其他域名好像添加不上CloudFlare，大家可以自己测试；注册域名选择时长步骤可以直接修改NS解析；如有注册好的域名无法使用或者被回收，重新注册一个即可。\n  虽然免费域名不适合建站，但是可以用做测试，用来跑应用也是可以的；而且付费域名也不是很贵，几十块钱一年，大家有条件的，还是推荐使用付费域名。\n  付费域名设置DNS解析与免费域名操作基本一致，这里也不再做过多赘述。\n ","description":"","id":7,"section":"posts","tags":["Domain"],"title":"免费域名注册与DNS解析","uri":"/posts/domain/"},{"content":"前言： 大家在使用科学上网的时候，时常会有遇到VPS服务器IP被墙的情况，下面我从几个方面来给大家讲解一下使用过程中的注意事项，以及该如何尽量避免VPS服务器被墙。\n服务器篇：  选择服务器时，可以有选择性的避开一些热门城市   一般来说美国西海岸城市，如洛杉矶、旧金山等因为对国内连接速度相对较快；所以也是大量国内用户扎堆的地区，这样一来除了晚高峰出现一定的拥堵外；“应用”特征也更明显，更容易被发现，而且在封禁一批服务器IP时，可能会被无辜牵连。\n  SSR服务端搭建时的插件选择   安装SSR服务端时，协议插件尽量不要选择origin，推荐选择auth_chain_a或者b；而混淆插件建议不要选择TLS开头的，因为加密强度较高，除了影响网速外，特征可能也更加明显。\n   V2ray服务端搭建时传输协议尽量不要选择TCP，而是选择MKCP加伪装\n  服务端搭建完成后，尽量避免多用户，多客户端同时连接使用，因为这样会更容易被封\n  客户端篇：  无论是桌面还是移动端，建议不要安装国产杀毒软件   譬如XX卫士、XX杀毒、XX管家之类，实际上电脑正常使用的话，根本不需要杀毒软件，用了反而会拖后系统性能；如果要装的话，可以选择国外的AVAST，小红伞等，好用又简洁。\n  不要使用国产浏览器进行科学上网   譬如UC、360、QQ、搜狗、夸克等等这些，另外Opera已被360收购，尽量也不要使用。\n  桌面端可以使用Chrome、FireFox等\n  移动端可以使用Chrome、FireFox、Via等\n  输入法的话，并没有硬性要求，但我还是说一下   大数据时代，给我们的日常生活带来方便的同时，也会有负面效果；大部分输入法会对用户隐私数据进行收集\n  因此，我们可以使用一些小众且好用的，或者禁用输入法的联网权限\n  当然，这个看个人如何使用还有怎么设置，目前我自己Windows端用的是搜狗，Ubuntu端用的是自带的IBus，安卓端用的是讯飞。\n  尽量避免使用客户端的全局代理模式；全局代理模式下，会自动设置代理，并且所有软件都通过代理跑流量；你想想，如果你的所有软件流量都指向同一个国外IP，这不是等着被封吗？所以针对桌面端和移动端，我建议这样设置：   桌面端选择仅开启代理，不自动配置代理服务器选项；然后在我们需要科学上网的软件，譬如FireFox里单独设置代理，这样其他软件还是正常连接，而FireFox则是走的科学上网。\n  移动端在科学上网客户端内选择分应用代理，只让Chrome、FireFox这种国外浏览器走代理。\n  尽量避免在安卓手机上长时间、大流量科学上网，毕竟国内各大厂商的系统基本上都会收集用户数据。  总结：   如果能做到上述这些要点，并不能保证你的VPS服务器一定不会被墙，但是被墙几率会很大幅度降低。\n  VPS服务器IP被墙检测/解决方案请看这里\n ","description":"","id":8,"section":"posts","tags":["Use","VPS"],"title":"避免VPS被墙的一些注意事项","uri":"/posts/notice/"},{"content":"前言： 关于VPS被墙 目前有相当一部分国外VPS服务器是被国内用户用来搭“应用”做代理服务器的，譬如架设SSR、Brook、V2ray等。而GFW可能会检测出部分协议的代理服务器，直接将服务器墙掉，导致用户不能正常使用，下面给大家介绍VPS被墙的几种表现，以及检测方法和解决方法。\nVPS被墙表现与解决： VPS某个端口被墙 这是目前封禁力度最轻的手段，也是初步手段；具体表现为：\n1.科学代理无法正常连接网络，但是设置其他端口正常，可以Ping通。\n2.SSH端口连接不上，但是其他端口正常，也可以Ping通。\n解决办法：\n端口被墙的情况最好解决，只需要在我们所架设的服务端管理面板中更换端口即可。\n 若端口更换后仍无法解决该问题，那么基本上可以说明是TCP阻断了。\n TCP阻断 TCP阻断对于一台VPS服务器来说，基本上已经废了一半了；无论是跑应用做代理服务器，还是做网站建设，都是使用的TCP流量。这种情况下，服务器TCP流量被GFW阻断，但是仍然可以Ping通；因为Ping所用的是ICMP协议，另外，VPS的UDP流量也是正常的。\n具体表现为：\n1.SSH端口无法连接，SSH软件连不上服务器。\n2.架设的应用（SSR）连不上。\n3.服务器上搭建的网站打不开。\n4.上述情况可能同时出现，但VPS可以Ping通。\n解决方法：\n1.改用V2ray，并使用MKCP传输，将TCP流量转为UDP流量。\n2.改用Wireguard，使用UDP流量。\nVPS彻底被墙 这种情况封禁力度是最大的，这台VPS已经可以宣告被废了；具体表现为：\n1.国内Ping不通。\n2.SSH连接不上。\n3.SSR连接不上。\n4.V2ray连接不上。\n解决方法：\n1.耐心等待，中途不要对服务器采取仍何操作。国外VPS被墙也可以说是IP被封禁了，被封禁期有长有短，一般在几个月后会放出，到时候就可以正常使用了。\n2.使用国外CDN中转VPS流量，变相解决被墙；可以使被墙VPS死灰复燃。但是此方法相对较麻烦，对新手用户并不太友好；以后会对使用方法进行更新。\n3.联系商家更换IP，大部分商家更换IP是需要付费的；免费自助更换IP商家请看Vultr VPS购买及使用\n4.急用的话，最简单粗暴的方法就是重新买一台服务器顶上，参考VPS服务器推荐专栏\nVPS服务器被墙在线检测： Ping.pe  ping.pe是一家专业的ping测试网站，可以测试各节点与目标服务器的连接情况；目前主要提供Ping测试、TCP端口测试、Dig测试三项服务。\n IP黑名单检测原理 VPS服务器IP被墙，只是在中国大陆无法访问，其他国家和地区仍可正常访问；我们通过ping.pe的检测结果，对比国内外表现的差异，进而判断服务器是否被墙，以及是整体被墙还是TCP阻断。\nping.pe使用讲解 ping.pe官网：http://ping.pe\n打开网站后界面如下：\n由于网站服务器在国外，所以首次打开可能比较慢。\nPing测试： 在首页的Ping测试框内，填入目标VPS服务器IP，或者输入对应域名，点击GO按钮开始测试：\n一般我们等待5分钟左右，就可以判断结果了；如下图所示，国外各结点都是绿色，表示连接正常；国内各节点都是红色，表示连接失败；这样基本可以判定服务器被墙。\n部分情况下，国际路线会出现不稳定，也会导致国内某几个节点连接失败，但一般都是部分节点测试结果出问题，测试结果显示国内节点有红有绿；这种情况一般不属于服务器IP被墙，耐心等待线路恢复即可。\nTCP端口测试： 点击网站右上方的Port链接，就可以进入TCP端口测试界面，在框内输入服务器IP：端口，类似：8.8.8.8:53，然后点击Go开始测试。如图：\n测试结果如下图，表示国内外节点TCP连接都正常，服务器未被TCP阻断；但是如果国外节点正常连接，而国内节点连接失败，则可判定为服务器被TCP阻断。\n总结： 我们根据ping.pe的检测结果，结合几种常见状况来帮助大家快速判断VPS服务器状态\n 国内外各节点都Ping不通，TCP端口检测也不通。   VPS挂了，直接更换/购买新的。\n  国外各节点能Ping通，但国内有小部分节点Ping不通。   应该是线路不稳定，造成部分节点连接不通畅，VPS并没有被墙。\n  国外各节点都能Ping通，但是国内各节点都Ping不通。   可以判断VPS被墙，而且是整体被墙。\n  国内外各节点均能Ping通，国外各节点TCP端口测试正常，但国内各节点TCP端口测试连接不上。   Ping测试所用ICMP协议没有被封，但是TCP协议被封，属于TCP阻断。\n","description":"","id":9,"section":"posts","tags":["Use","VPS"],"title":"VPS被墙检测与解决方案","uri":"/posts/check/"},{"content":"前言： 前面已经给大家分享过科学上网服务的搭建和客户端使用教程，相信大家对科学上网的搭建和使用已经有了一定的了解；现在给大家分享一些网络小知识和一些基本的问题解决方法。\n网络小知识： 网速和运营商： 不同的网络运营商，翻墙速度会有差别。目前大家公认的是移动网络翻墙速度最快，电信最差，当然也有例外。\n 如果你是电信用户，翻墙速度犹如蜗牛，那么你可以考虑换宽带了，移动为首选。如果短期内没有换宽带的打算，那么你可以自己测试下，哪个时间段最快，哪个时间段最慢，通常电信国际出口干扰从下午到晚上最严重。\n 网速和时间段： 不同的时间段翻墙速度可能会不同，这也与你所处地区和网络类型有关。通常来说，晚上8点～24点，翻墙速度会降低，原因是国内各个地方的人们此时都开始翻墙了，人数众多（保守估计1千万），会造成运营商的国际出口线路拥堵，进而影响翻墙速度。1千万数据来源于“Twitter首次披露中国用户数量约1000万”\n连接测试和IP查询： 翻墙后有人想查下是否连接成功，但是有时候访问Google就是访问不了，或者我想查一下自己的翻墙后的IP地址；访问不了Google是因为虽然你翻墙了，但是你的DNS依然是国内的，有时候即使你翻墙了，但DNS是国内的，你也依然访问不了Google，这时候你可以用一个被封的国外网站来测试连接，并且查询IP，比如这个https://whoer.net\nDNS设置： 上面说到，有些人即使翻墙了也无法访问Google，这是因为你的DNS还是国内的。Cloudflare 推出 1.1.1.1 公共 DNS 服务，号称任何人都可以使用它可以加快互联网访问速度并保持连接私密性。Cloudflare 与 APNIC 合作通过以下两个 IP 提供 DNS 服务：1.1.1.1 和 1.0.0.1 因此，建议将自己的电脑ipv4 DNS设置为这两个来翻墙。\n常见问题解决： 退出网客户端后无法上网 不管你采用何种翻墙手段翻墙，假如出现退出客户端后，IE浏览器无法上网，可以通过此方法解决：依次打开IE浏览器——工具——internet选项——连接——局域网设置，把此页面的所有“勾”都去掉，确定即可。\n退出客户端后网速变慢 退出客户端后正常上网，平常还好，但是到了晚上网速就会变得很慢。这是因为之前已经设置了Cloudflare的公共DNS，我们可以将其改为阿里云的DNS服务：223.5.5.5和223.6.6.6；或者设置为自动获取DNS。\n科学上网无法使用 可能原因一：服务器被墙 当发现科学上网无法使用时不要着急，先试着Ping一下自己的服务器IP，看看是否能Ping得上；或者用SSH软件连接一下服务器，看看能不能连接上(IP更换为自己的服务器IP)：\nping -c 4 IP\n如果Ping不通，连接不上，那么说明服务器被墙了，更换IP或者服务器即可。\n可能原因二：客户端与服务端的系统时间相差过大 当vps服务器与本地设备系统时间相差过大，会导致客户端无法与服务端建立链接。请修改服务器时区，再手动修改服务器系统时间（注意也要校准自己本地设备时间）！\n先输入以下命令修改vps的时区为中国上海时区：\n1  cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime   再输入以下命令手动修改vps系统时间命令的格式为（数字改为和自己电脑时间一致，误差30秒以内，时间自己改成自己的时间）：\n1  date -s \u0026#34;2020-02-12 08:08:00\u0026#34;   修改后再输入date命令检查下。\n可能原因三：Windows防火墙、杀毒软件阻挡代理软件 如果上面两个可能原因已排查，可以关闭 Windows 自带的防火墙、杀毒软件再尝试。\n 如果以上问题都排查，但还是无法使用，那么我们就需要修改科学上网服务端配置了，一般修改端口即可。  总结及注意事项：   一些和科学上网有关的网络小知识和常见问题处理方法基本就是这些，大家遇到问题可以对症下药。\n  对于服务端的配置这块，各个地区网络情况不同，各种搭配实用性也不同；我还是建议大家多尝试不同的加密，混淆，伪装组合。\n ","description":"","id":10,"section":"posts","tags":["Use"],"title":"网络知识和常见问题","uri":"/posts/qa/"},{"content":"前言 v2ray支持的传输方式有很多，包括：普通TCP、HTTP伪装、WebSocket流量、普通mKCP、mKCP伪装FaceTime通话、mKCP伪装BT下载流量、mKCP伪装微信视频流量，不同的传输方式其效果会不同，有可能会遇到意想不到的效果哦！\n架设服务   如果你已经对服务器进行了初步部署，那么接下来我们进行V2ray服务端的架设；如果还没有，请前往这里\n  下面开始V2ray服务端的架设教程\n  首先复制下面的代码，右键粘贴到Putty中，回车\n1  wget -N --no-check-certificate https://raw.githubusercontent.com/KiriKira/v2ray.fun/kiriMod/install.sh \u0026amp;\u0026amp; chmod +x install.sh \u0026amp;\u0026amp; ./install.sh   等待安装完成，他会提示安装成功,如下图：\n我们输入v2ray进入管理面板，然后输入2回车更改配置：\n接着输入1回车，更改ID，并输入y回车确认：\n设置完成后他会回到管理面板主页，我们要重新输入2回车更改配置；然后输入2回车更改主端口，主端口范围40-65535，不要以0开头：\n重新输入2回车进入更改配置，然后输入3回车更改加密方式，加密方式为4种，第4种是不加密，我这里选择2然后回车确认：\n接着重新进入更改设置，输入4回车更改传输方式，传输方式共有7种，这个配置对v2ray的速度起着很大的作用，具体哪个最适合你那里的网络环境，需要你自己来尝试。\n 注意：普通TCP、普通mKCP、mKCP伪装FaceTime通话、mKCP伪装BT下载流量、mKCP伪装微信视频流量可直接设置、不需要域名，HTTP伪装和WebSocket流量需要你有域名，且域名绑定了你的vps服务器ip。\n 我这里选择7，然后回车确认：\n配置修改到这里结束，我们输入3回车查看自己的配置信息：\n最后就是要启动服务了，在管理面板主界面输入1回车进入服务管理，然后再输入1回车启动服务。\n架设完成之后，我们输入reboot重启一次服务器，以确保服务生效；之后连接服务器，重新启动V2ray服务；到这里V2ray服务端架设的工作就全部告一段落了。\n总结：   V2ray管理命令为v2ray此命令用于进入管理面板。\n  由于V2ray脚本并不是开机自启，所以我们每次更改配置或者重启服务器后都要重新开启服务。\n  因为V2ray管理面板是一个循环脚本，当你配置结束后不会自动退出快捷管理命令，如果你想退出界面进行其它操作，可以同时按下键盘上的ctrl键和字母c键。\n ","description":"","id":11,"section":"posts","tags":["Setup","V2ray"],"title":"V2ray服务端架设","uri":"/posts/v2ray/"},{"content":"前言： Brook是一款新兴的代理软件，其版本横垮Windows、安卓、iOS、MacOS、Linux等多个系统平台，功能类似于我们经常使用的Shadowsocks/ShadowsocksR。Brook 的目标是简单易用、傻瓜化、速度快（新协议）。通过在服务器端安装Brook服务器端，同时在本地设备中使用Brook客户端，两者成功连接之后，可以为我们提供科学上网服务。\n服务端架设：   如果你已经对服务器进行了初步部署，那么接下来我们进行Brook服务端的架设；如果还没有，请前往这里\n  下面开始Brook服务端的架设教程\n  首先复制下面的代码，右键粘贴到Putty中，回车\n1  wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/brook.sh \u0026amp;\u0026amp; chmod +x brook.sh \u0026amp;\u0026amp; ./brook.sh   安装完成后会自动打开管理面板，我们输入1回车安装Brook如下图：\n之后会要求我们设置端口，端口在1-65535之间，我们输入端口号，回车；接着设置密码，回车：\n接着就是设置协议，我们输入1回车，选择新版协议：\n然后选择版本，我们直接回车获取最新版本即可：\n获取完成后会自动进行安装，直到详细配置页面出现，如下图：\n最后输入reboot重启服务器，确保Brook服务生效；服务端架设到这里就告一段落了。\n总结：   Brook管理面板命令是./brook.sh此命令用于进入Brook管理面板进行配置修改。\n  Brook管理脚本是开机自启的，只需安装一次即可。\n ","description":"","id":12,"section":"posts","tags":["Setup","Brook"],"title":"Brook服务端架设","uri":"/posts/brook/"},{"content":"前言：  ShadowsocksR常被称为SSR、酸酸乳、小飞机（粉色）、纸飞机（粉色），是由“破娃酱”发起的一个项目，也是目前热门的科学上网技术之一。SSR没有官方网站，项目代码托管在Github上，目前已经停止开发，客户端由志愿者维护。  架设服务：   如果你已经对服务器进行了初步部署，那么接下来我们进行SSR服务端的架设；如果还没有，请前往这里\n  下面开始SSR服务端的架设教程\n  首先复制下面的代码，右键粘贴到Putty中，回车\n1  wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh \u0026amp;\u0026amp; chmod +x ssr.sh \u0026amp;\u0026amp; ./ssr.sh   安装完成后他会自动进入SSR管理面板，如下图：\n我们先输入1回车，安装SSR服务端，然后会要求我们设置端口和密码；端口为40-65535之间的数字，不要以0开头；演示图如下：\n端口和密码设置完毕后会要求我们设置加密方式，我们选择一个，比如10；然后回车确认，演示图如下：\n接着是进行协议插件的选择，我这里选择2，输入2回车，如下图：\n选择并确认后，这里会提示你是否设置插件兼容原版，输入y确认，然后回车：\n接着会让我们选择混淆插件，这里要注意，如果你上一步骤协议插件选择的是origin，那么混淆协议必须选择plain；如果不是，那可以自由选择，混淆插件不建议选择tls1.2那个！我这里选1，然后回车：\n接下来会让你对设备数、单线程限速和端口总限速进行设置，我们这里直接回车默认即可：\n然后到这里我们输入y回车确认：\n耐心等待，直到出现配置详情页面，说明服务端架设已经完成：\n上面就是服务端的详细配置信息了，有了这些信息我们就可以填写到服务端进行科学上网了\n如果之后想要修改账号信息和配置的话，直接连接服务器，然后输入./ssr.sh进入管理面板，然后选择相应的项目进行修改即可：\n架设完成之后，我们输入reboot重启一次服务器，以确保服务生效。到这里SSR服务端架设的工作就全部告一段落了。\n总结：   SSR管理命令为./ssr.sh此命令用于进入SSR管理面板。\n  SSR管理脚本是开机自启的，只需要安装一次即可。\n ","description":"","id":13,"section":"posts","tags":["Setup","SSR"],"title":"SSR服务端架设","uri":"/posts/ssr/"},{"content":"前言：  科学上网能为我们的工作、生活和生产力带来便利，比如一些好的外网文献、素材；比如一些国外公开课程、追剧、外贸需要等等。。。但凡事有利也有弊，墙外的世界是你向往的，同时也是黑暗的；所以大家面对一些言论和资讯时，看淡些，不要去信，也不要去当真就好。    除架设所需服务器外，科学上网所需教程、软件、脚本一律免费；本人不出售服务器，请大家自行选购。\n  服务器大家可以自行选购，服务器推荐专栏内容仅供大家参考，本人不干预选购。\n  连接准备： 服务器 为了达到科学上网的目的，请大家选择海外服务器；大家自行选购，这里不做推荐。\n系统的选择 服务器的系统选择这块建议Debian6+、Ubuntu14+、Centos7，这三款都有进行测试能完美运行；其余的像Gentoo、Fedora、Arch Linux、OpenSuse等等这些本人并没有进行测试，大家有兴趣的可以去试试。\n服务器的连接 服务器的连接管理请移步这里。\n命令 Linux命令大体上都差不多，但是有部分命令会有差异。比如我们推荐的三款系统中，CentOS是一个系列；而Ubuntu是Debian的分支，与Debian同属一系，所以今后代码/命令有差异的，我会分成Debian(Ubuntu)和CentOS区分列出。\n服务器部署： 初始密码修改 服务器连接成功后，我们就可以修改初始密码，方便记忆和管理；复制下面的命令粘贴到Putty中然后回车：\npasswd\n这时候会提示我们输入新的密码，键入密码并回车，反复两次便会看到密码已经修改成功：\n注意：Putty这种SSH软件里面是没有ctrl+c和ctrl+v的，在SSH软件中，鼠标右键就是粘贴，所以我们复制好代码后，直接返回SSH软件右键然后回车就可以执行。\n安装wget以及curl工具 Debian CentOS  1 2  apt-get install -y wget apt-get install -y curl     1 2  yum install -y wget yum install -y curl       'use strict'; var containerId = JSON.parse(\"\\\"941ad0451d4436e7\\\"\"); var containerElem = document.getElementById(containerId); var tabLinks = null; var tabContents = null; var ids = []; if (containerElem) { tabLinks = containerElem.querySelectorAll('.tab__link'); tabContents = containerElem.querySelectorAll('.tab__content'); } for (var i = 0; i 0) { tabContents[0].style.display = 'block'; }  一般都是自带这俩工具的，但我们还是执行下命令，以防万一～～\n服务器加速 有的服务器服务商在你开通服务的时候，已经将加速集成到服务器当中，所以进行这一步之前我们先进行确认，复制以下代码，粘贴到SSH软件中回并回车：\nlsmod | grep bbr\n如果看到有tcp_bbr字样(演示图在文章最后)，说明你的服务器已经开启了bbr加速，可以不用进行下面的步骤。\n如果没有，复制下面的代码，右键粘贴到SSH软件中，回车。\n1  wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh \u0026amp;\u0026amp; chmod +x bbr.sh \u0026amp;\u0026amp; ./bbr.sh   演示如下：\n等他自动运行到这一步，提示按任意建开始，我们按下回车继续：\n最后会提示需要重启，我们按下y键确认重启：\n如果没有及时按下y确认，我们可以输入reboot进行重启。\n等待几分钟后，重新登陆并连接服务器，然后输入lsmod | grep bbr如果有tcp_bbr字样即代表加速成功，如图：\n服务器的准备和部署工作至此结束。\n总结及注意事项：   一定要注意，在Putty等SSH软件中，Ctrl+C和Ctrl+V快捷键是无效的，我们复制好代码后，直接返回SSH软件右键即可进行粘贴。\n  输入密码的时候是看不见的，所以我们不用担心没有输入上，只要自己输入的密码是正确的就可以了。\n  bbr加速服务是开机自启动的，所以我们安装完以后就可以不用管他了，而且只需要安装一次即可。\n ","description":"","id":14,"section":"posts","tags":["Setup"],"title":"架设前言及准备工作","uri":"/posts/start/"},{"content":"前言 之前我们在VPS服务器推荐专栏中讲过，VPS服务器是虚拟服务器，我们需要使用软件对其进行远程控制；以实现操作与管理。现在来给大家讲一下如何实现VPS服务器的连接与管理。\n软件下载与注意事项 Windows端 PuTTY：下载地址\n PuTTY相当于电脑上的命令行工具，可以通过各种命令对远程Linux服务器进行管理。\n Mac端 Mac端使用Terminal终端，键入ssh root@IP此处IP更换为你的VPS服务器IP，然后输入密码即可登录。\nLinux端 Linux端也可以使用自带的终端软件进行登录，命令同样为ssh root@ip\n注意事项 1.在我们输入终端登录密码时，屏幕上是没有密码输入提示的，所以不要担心没有输入上， 只要确保自己输入的密码是正确的就可以了。\n2.在SSH或终端软件中是没有Ctrl+C和Ctrl+V的，我们在复制完命令后，一定要用鼠标右键进行粘贴；然后回车执行命令！\n使用教程 Windows端 连接VPS服务器 下载好PuTTY之后，双击运行；在Host Name处输入root@ipIP更换为你的VPS服务器IP，其他的默认，然后点击Open连接；碰到提示直接点是确定即可，演示图如下：\n 这里注意，如果你所购买的VPS主机是随机生成端口号的(比如搬瓦工)请在Port项填写VPS控制面板内提供的SSH端口号。\n 连接后会提示我们输入密码，注意这里屏幕上是没有密码输入提示的，所以不要担心没有输入上， 只要确保自己输入的密码是正确的就可以了。\n看到出现如下界面则代表你已经成功登陆了：\n保存/读取配置 为了方便今后使用，我们可以将连接信息进行保存；运行软件，在Host Name处输入root@IP Save Sessions处输入要保存的名字，然后点击Save，如图：\n下次登录先点击你命名的那个配置名，然后点击Load，再Open连接即可。\nMac\u0026amp;Linux端 Mac和Linux都可以使用自带的终端软件进行登录，这里我以Ubuntu(Linux)为例\n打开自带的终端软件，输入ssh root@IP，然后输入密码，演示图如下：\n接下来的操作就都是一样的啦~~\n总结  注意！注意！注意！   输入终端登录密码时，屏幕上是没有密码输入提示的！\n  SSH或终端软件中是没有Ctrl+C和Ctrl+V的，复制完命令后，一定要用鼠标右键进行粘贴！\n","description":"","id":15,"section":"posts","tags":["VPS"],"title":"VPS服务器的连接与管理","uri":"/posts/connect/"},{"content":"前言 搬瓦工，因其官网网站标识为BandwagonHost，有点类似BanWaGong的拼音，所以被国内用户称为搬瓦工VPS；其在国内流行程度可见一斑。搬瓦工VPS是一款性价比较高的便宜VPS主机，其优势在于稳定、线路好；不仅有高性价比CN2 GIA路线，国内直连速度快，而且也提供香港机房VPS，国内直连速度更快。\n购买流程 账号注册 搬瓦工官网：https://bwh88.net/ 点击上面的链接进入搬瓦工官网，然后点击页面右上角的Register，然后输入注册信息，之后勾选服务条款，并点击Submit注册，如图：\n 注意：不要挂梯子进去，直接连接即可，注册的时候国家一定要填写中国，公司名、姓名这些可以不按真实填写，不要有中文，以拼音代替；省、市、地址这些尽量填写真实存在的。\n 注册完成后，我们会收到一封确认邮件。完成后续操作后直接进行登陆即可。\n 由于搬瓦工可以购买套餐时付款，所以我们后面不用进行充值，直接选购套餐即可。\n 方案选择与对比： 方案选择 搬瓦工方案目前一共有五个系列，分别是 CN2 GIA（包括 DC6 CN2 GIA-E 和 DC9 CN2 GIA）、CN2、KVM、香港这几个系列。现在我们简单看看该如何进行选择。\n先简单说一下，这几个机房质量排序如下：香港 PCCW 机房 \u0026gt; 搬瓦工 DC6 CN2 GIA-E = 搬瓦工 DC9 CN2 GIA \u0026gt; 搬瓦工 DC8 CN2 \u0026gt; 搬瓦工 DC3 CN2 \u0026gt; 其他（KVM）。\n与之相对，价格排序如下：香港 PCCW \u0026gt; 搬瓦工 DC6 CN2 GIA-E \u0026gt; 搬瓦工 DC9 CN2 GIA \u0026gt; 搬瓦工 DC8 CN2 = 搬瓦工 DC3 CN2 = KVM。\n各个方案的区别对比： 中国香港 PCCW：香港机房是目前搬瓦工所有机房中质量最佳的机房，位于中国香港 PCCW MCX10 机房，离中国大陆非常近，延迟也很低，三网直连，非常稳定。当然，价格较高（$899.99/年起），土豪不差钱用户以及高端用户首选。总体来说，只有性能，没有性价比。\n美国洛杉矶 DC6 CN2 GIA-E：洛杉矶 DC6 和 DC9 都是 CN2 GIA 机房，均采用中国电信高端线路 CN2 GIA，双程都是 CN2 GIA 路由，三网直连，中美最快线路，延迟最好可以在 130ms 左右（视地区而定）中高端选择（$119.99/年起）。\n美国洛杉矶 DC9 CN2 GIA：和洛杉矶 DC6 CN2 GIA-E 一样，中美最快线路，线路质量和 DC6 不相上下，但是目前起步门槛较高（$339.99/年起），便宜方案都已经缺货，中高端选择，后期可迁移到 DC8 CN2 GIA 机房（$119.99/年）。\n美国洛杉矶 DC8 CN2：中美直连，属于 CN2 GT 线路，比 CN2 GIA 线路等级低，往返都是半程 CN2（海外节点走 CN2，国内节点走 163 网络），三网直连（电信 CN2 直连，移动和联通各自直连）。但是目前实测大部分地区表现良好，入门之选，是目前最便宜的方案（$49.99/年）。\n美国洛杉矶 DC3 CN2：中美直连，和 DC8 CN2 一样是 CN2 GT 线路。不过 DC3 CN2 是 QNET 机房，DC8 CN2 是 Zenlayer 机房，目前大部分地区比 DC8 CN2 质量稍差，备选线路。不过这两个 CN2 GT 机房只要购买了 CN2 方案都可以使用，所以无需纠结，购买后自己切换测试即可。\n美国洛杉矶 MCOM、QNET 等其他机房：这几个机房在所有方案里都可以选择，一般我们不是特殊用途不会考虑。\n方案购买： 我们首先点击页面右上角Client Area登陆进用户中心，然后点击Services里面的Order New Services，演示图如下：\n然后我们按照前文方案选择与对比所述，进行方案选择。\n 注意：Annually为年付；Semi-Annually为半年；Quarterly为季度，也就是3个月；Monthly为月付。\n 选择好方案后，点击方案最右边的Order Now（尽量选择CN2方案，我这里演示的时候CN2方案已经售罄，所以点了个KVM直连）如图：\n接下来进行机房选择，我们尽量选择靠近西海岸的机房，这里我选择洛杉矶，然后点击Add To Cart，如图：\n之后就是确认页面，我们在Promotional Code处输入优惠码 BWH3HYATVBJW 然后点击右边的Validate Code使用；接着点击Check Out：\n之后的页面，我们往下拉，选择Alipay支付宝付款即可，然后勾选下面的条款，如图：\n然后点击Pay Now，接下来的步骤就和我们平时使用支付宝付款一样了，如图：\n支付成功后，进入我们的用户中心，然后点击VPS服务器后面的KiwiVM Control Panel即可进入VPS管理面板。\nVPS管理： 基本管理： 下图为VPS管理页面，左边是一些常用功能，有重装系统、修改root密码、修改管理面板密码、迁移机房等等；右边可以看到VPS的详细信息。\n注意：搬瓦工VPS的SSH端口不是22，而是随即生成的，我们在管理面板右侧SSH Port项可以看到。\n重装系统也很方便，官方贴心自带了BBR，不过更换系统前记得要先关机！\n更换IP/机房： 进入VPS管理面板，点击左侧的Migrate to another DC，在出现的界面中，选择你想要更换到的机房即可，美国机房推荐洛杉矶和弗里蒙特；如果你已经是洛杉矶机房，那可以直接选择Fremont，然后点击Confirm on next step即可。\n 由于搬瓦工政策更新，每隔70天可以免费更换一次IP；也就是说首次更换IP是没有时间限制的，之后IP被封需要等待上次更换IP之后的70天才能更换IP；也不能通过更换机房来达到更换IP的效果；但是凡是皆有例外，如果更换机房的时候，有IP address of your VPS will change 这样的提示，那不正是我们想要的效果吗？\n 总结：   搬瓦工VPS机房众多，且拥有直连、CN2、CN2 GIA、香港直连等方案进行选择，速度相较于一般的直连主机更快；但由于其太受欢迎，导致很多方案时常处于缺货阶段。\n  搬瓦工VPS可以自由的进行机房切换，包括直连KVM主机切换到CN2机房（具体政策可以在管理面板进行查看）。\n   这里注意：普通的KVM直连主机切换到CN2机房后，流量会变成原来的1/3，而CN2促销版的流量是随便怎么切换都不会更改的。\n   注册和购买服务时，一定不要挂梯子，全程直连，并且注册时国家一定要选择中国，地址这些也尽量选择真实存在的，避免造成欺诈订单和购买失败。\n  我们不必盲目追求CN2，CN2也不一定是最好的，毕竟适合自己的才是最好的。\n ","description":"","id":16,"section":"posts","tags":["VPS"],"title":"搬瓦工VPS购买及使用","uri":"/posts/bandwagon/"},{"content":"前言： Vultr 是 Choopa 的子公司，其实力不容小觑。Vultr 服务器的控制面板是自研的，提供了非常丰富的功能；拥有丰富的自选机房，支持支付宝付款，按小时计费，非常灵活；在国内拥有不小的使用群体，现在Vultr VPS最便宜的主机仅需要2.5美元/月（仅提供IPv6），价格已经到了“冰点”了。\n购买流程： 账号注册： Vultr官网： https://www.vultr.com  点击上面的链接进入Vultr官网，输入邮箱和密码，然后点击创建账户;非常的简单，演示图如下：\n账户充值： 点击网页右上角的Login in即可用刚才的邮箱进行登录，登陆之后就会进入用户中心。如图：\n接着我们点击“Billing”项，再选中“Alipay”，如红色方框所示；就可以使用支付宝对账户进行充值，如图：\n这里提供了几个充值金额项，如果没有你想充值的金额，可以点击红色圆圈的Other项，然后输入相应的金额，最后点击Pay with Alipay即可进行充值，之后的操作和我们日常使用支付宝一样。注：充值金额为10美元起。\n充值完成之后刷新Billing页面，即可在右上角看到余额，显示为绿色。\n机房选择： Vultr提供了较多的机房供大家选择，大家可能不知道该怎么选；这里我们可以测试下各机房提供的测试IP。\n我们可以选择其中一个机房，在自己电脑上ping一下官网提供的测试IP，然后选择延迟相对较小的那一个；点击以下各链接，内有官网详细的测试IP与测试文件下载。\n   机房 机房 机房 机房     日本东京 新加坡 荷兰阿姆斯特丹 法国巴黎   德国法兰克福 英国伦敦 澳大利亚悉尼 加拿大多伦多   美国纽约 美国芝加哥 美国达拉斯 美国亚特兰大   美国洛杉矶 美国迈阿密 美国西雅图 美国硅谷    VPS购买： 确认好机房后我们就可以开始购买VPS服务器了；首先点击用户中心右边的蓝色+号，如图：\nChoose Server我们选择Cloud Compute就好，也就是默认的那项：\n然后往下拉，选择机房位置；我们按照之前测试机房的位置选择就好了，这里我做演示就随便选择了一个：\n继续往下翻，选择操作系统；这里我推荐选择CentOS7、Debian6+、Ubuntu14+；我这里以Debian为例，在相应的系统下，点击Select Version，然后选择系统版本，演示图如下：\n红色方框内的是32位系统，占用比较小，可以根据自己的需求选择；但是我还是推荐64位。\n我们继续放下翻，看到Server Size，是对VPS配置进行选择，除Atlanta和New York(New Jersey)最低配置为2.5美元/月外，其余机房最低配置均为5美元/月，但是要注意2.5美元套餐只提供IPV6地址，对非资深IPV6用户不太友善，所以我们可以选择5美元/月套餐，或者新泽西的3.5美元/月套餐，均为IPV4地址，我这里随便选一个，演示图如下：\n接下来的几项设置默认即可：\n上图的主机名这里可以自由设置，也可以不输入，自由选择。\n全部设置完毕后，我们点击右下角的Deploy Now即可开始创建：\n创建完成后会对其进行系统安装，稍等几分钟，直到状态显示为Running之后，就表示创建完成，这时候我们可以点击右边的Manage进入控制面板：\nVPS控制面板如下：基本功能对照用红字标识：\n更换机房/IP： 更换机房： 如果在使用过程中，想对机房进行更换，只需要将当前VPS进行销毁，然后重新选择其他机房开通即可。\n更换IP： 如果开通VPS后遇到当前IP长时间无法连接，那么说明该IP被墙，我们需要更换IP。\n 方法：先重建一个服务器，机房和配置仍与当前VPS一致，等待安装完成后即可得到新的IP；此时销毁当前VPS即可。\n 总结：   Vultr VPS拥有众多机房可供自行选择，可自主免费更换机房及IP，操作简单，支持支付宝充值，对新手用户及科学上网搭建十分友好。\n  Vultr购买的简易流程为：创建账号——充值——选择机房——开通服务。\n  Vultr计费规则为按小时计费，请注意自己的余额，以免忘记续费，导致数据被删除。\n  Vultr VPS关机后是一样会收取费用的，要让其停止计费，只能对VPS服务器进行销毁。\n ","description":"","id":17,"section":"posts","tags":["VPS"],"title":"Vultr VPS购买与使用","uri":"/posts/vultr/"},{"content":"前言： 大家可能从来也没有接触过服务器，这个词语对大家来说可能只有一个模糊的概念，很熟悉，但是却说不上个所以然；这里我们先从基础的方面来给大家做一个介绍。\n什么是服务器 服务器是计算机的一种，它比普通计算机运行更快、负载更高、价格更贵。服务器在网络中为其它客户机提供计算或者应用服务。它具有比普通计算机更高效的性能。服务器作为电子设备，其内部的结构十分的复杂，但与普通的计算机内部结构相差不大。\n 而我们通常使用的服务器，一般为VPS(Virtual Private Server)服务器，中文翻译就是虚拟专用服务器；相对于一台独立服务器而言，独立服务器可以划分为很多VPS，每台VPS都能独立分配公网IP、独立操作系统，可以像独立服务器一样重装操作系统，安装程序，单独开关机，重启。因为其价格更低，更适合个人用户使用，所以我们的科学上网服务一般都是架设在VPS上。\n 注意事项与购买建议： 一般来讲，只要是位于大陆地区以外的服务器，都可以用来搭建科学上网，目前市面上有形形色色的服务器商家，大小不一，鱼龙混杂，导致大家在购买时不知道该如何选择，这里来为大家做一些分析：\n 不要选择成立时间短，名气小的商家，也不要一味地追求低价。  服务器的出售门槛相对较低，低到一个人就可以开一家VPS出售站点，这种商家出售的服务器价格可能相对要低很多，但是他们的售后无法保证，跑路风险较大。\n 选择可以自主更换IP地址的服务商。  因为在搭建和使用科学上网的过程中，有一定的概率会被GFW墙掉IP，所以能自主更换IP地址是十分必要的；目前能自主更换IP的服务商只占极少数，而有的则需要与客服沟通或者付费更换IP，麻烦不说，而且会产生另外的费用。\n 选择能够自主更换机房的服务商。  国外机房分布在世界各地，线路错综复杂；与国内的连接时好时坏，在连接状况较差的情况下，可以自主更换到其他机房，这样对我们的日常使用也能提供更好的体验。\n 选择支持支付宝/微信支付的服务商。  国外的服务商大多都是Paypal，或者双币种信用卡(有很多服务商不支持国内信用卡)；这就很大程度上增加了我们日常使用的难度，而国人则更习惯使用微信/支付宝，能支持微信/支付宝支付的商家，可以为我们日常的开通、续费等带来很大的便捷。\nVPS服务器推荐： 综合以上的注意事项与建议，下面罗列几个目前国内用户较多的大牌VPS服务商(排名不分先后)：\n\nVultr  Vultr 是 Choopa 的子公司，其实力不容小觑。Vultr 服务器的控制面板是自研的，提供了非常丰富的功能；拥有丰富的自选机房，支持支付宝付款，按小时计费，非常灵活；现在Vultr VPS最便宜的主机仅需要2.5美元/月（仅提供IPv6），价格已经到了“冰点”了。\n    Vultr官网： https://www.vultr.com    Vultr VPS购买及使用教程\n  \nBandWaGon  搬瓦工，因其官网网站标识为BandwagonHost，有点类似BanWaGong的拼音，所以被国内用户称为搬瓦工VPS；其在国内流行程度可见一斑。搬瓦工VPS是一款性价比较高的便宜VPS主机，其优势在于稳定、线路好；不仅有高性价比CN2 GIA路线，国内直连速度快，而且也提供香港机房VPS，国内直连速度更快。\n   Bandwagon官网：https://www.bwh88.net\n  Bandwagon VPS购买及使用教程\n  \nLinode  Linode也是一家久经考验的商家，口碑与稳定性能都是很不错的；从我的使用经验来看，Linode的VPS主机性能和宽带很强，性价比非常高。日本、新加坡机房速度还不错，月付5美元起。但由于其不支持支付宝，且注册时必须验证双币种信用卡，相对较为麻烦；不推荐新手使用，大家有兴趣的可以自己去看看。\n   Linode官网：https://www.linode.com\n  \nDigitalOcean  DigitalOcean简称“DO”是美国一家知名的VPS主机商，DigitalOcean在国内用户众多，产品多样，提供了美国、新加坡、印度、英国、德国等八大机房可供选择，VPS主机内存、硬盘、带宽等都是可以自定义的。但和Linode一样，也不支持支付宝付款，注册的时候需要先充值5美元(双币种信用卡/Paypal)对新手也不是很友好，大家有兴趣也可以自己去看看。\n   DigitalOcean官网：https://www.digitalocean.com\n  总结：   综上所述，我们发现Vultr，Bandwagon更加符合我们的需求，性价比高，使用灵活，可以作为购买国外VPS服务器的首选。\n  Lindo注册难度较大，DigitalOcean次之，不推荐新手朋友们选购，如果拥有双币种信用卡，或者Paypal账户的朋友们可以去看看这两家；其实他们的性价比也是很高的。\n  后续我将会持续寻找和更新高性价比且方便购买的VPS服务器推荐专栏，大家可以关注动态。\n  ","description":"","id":18,"section":"","tags":null,"title":"VPS推荐专栏","uri":"/vps/"},{"content":"为方便大家查阅教程和寻找资源，这里做了一个导航专栏，方便大家查找；导航栏将随教程和文章更新：\n本站所有教程和集 VPS服务器推荐与使用：   VPS服务器推荐专栏\n  VPS服务器购买及使用\n  Vultr VPS购买及使用\n  搬瓦工VPS购买及使用\n    VPS服务器连接与管理\n  VPS被墙检测与解决\n  如何避免服务器被墙\n  初级服务端架设：   架设前言及准备工作\n  科学上网服务端的架设\n  S S R 服务端架设\n  Brook服务端架设\n  V2ray服务端架设\n    科学上网客户端下载与使用：   科学上网客户端下载\n  桌面客户端使用\n  移动客户端使用\n  网络小知识和常见问题\n  进阶服务端架设与教学：   免费域名申请与DNS解析\n  Trojan服务端架设\n  Wireguard服务端架设\n  V2ray服务端进阶教学\n  被墙服务器的复活\n  ","description":"","id":19,"section":"","tags":null,"title":"快速导航","uri":"/navbar/"},{"content":"关于本站   本站由Hugo强力驱动\n  主题选自Zzotheme\n  使用Markdown进行写作\n  备用地址：https://blog.yourair.xyz/\n  备用站点托管于：Github\n  本站文章与教程均来自网络整理或个人创作；许可协议：CC BY-NC-ND 4.0\n  关于科学上网  科学上网能为我们的工作、生活和生产力带来便利，比如一些好的外网文献、素材；比如一些国外公开课程、追剧、外贸需要等等。。。但凡事有利也有弊，墙外的世界是你向往的，同时也是黑暗的；所以大家面对一些言论和资讯时，看淡些，不要去信，也不要去当真就好。  关于教程   教程仅供大家学习与参考，如果有补充或交流，欢迎邮件联系我。\n  本站教程完全免费，本人也不会提供任何收费服务。\n  教程中的服务器需要大家另外购买，本人不提供购买服务，请须知。\n  关于我   昵称：Jacen\n  简介：一个满脑骚操作的设计师～～\n  ","description":"about this site","id":20,"section":"","tags":null,"title":"关于","uri":"/about/"}]